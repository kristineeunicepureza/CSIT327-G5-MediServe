{% extends 'base.html' %}
{% load static %}

{% block title %}User Registration{% endblock %}

{% block content %}
<div style="width: 100%; max-width: 1100px; margin: 20px auto; background-color: #FFFFFF; border-radius: 16px; box-shadow: 0 20px 60px rgba(0,0,0,0.12); display: flex; overflow: hidden; max-height: 92vh;">

    <!-- Left: Form Section -->
    <div style="flex: 0.68; background: linear-gradient(135deg, #fafafa 0%, #f5f7fa 100%); padding: 50px 45px; display: flex; flex-direction: column; justify-content: flex-start; align-items: center; text-align: center; overflow-y: auto;">
        <div style="width: 100%; max-width: 680px;">
            <h2 style="color: #2c3e95; margin-bottom: 8px; font-size: 2rem; font-weight: 700; letter-spacing: -0.5px;">Create Your Account</h2>
            <p style="color: #6b7280; margin-bottom: 35px; font-size: 0.95rem;">Fill in your details to get started</p>

            {% if messages %}
            <div style="width: 100%; margin-bottom: 25px;">
                {% for message in messages %}
                    <div style="padding: 14px 18px; border-radius: 10px; font-weight: 500; font-size: 0.9em; margin-bottom: 10px; display: flex; align-items: center; gap: 10px;
                        {% if 'error' in message.tags %}
                            background-color: #fee; color: #dc2626; border-left: 4px solid #dc2626;
                        {% elif 'success' in message.tags %}
                            background-color: #ecfdf5; color: #059669; border-left: 4px solid #059669;
                        {% else %}
                            background-color: #f3f4f6; color: #374151; border-left: 4px solid #9ca3af;
                        {% endif %}">
                        <i class="fas fa-{% if 'error' in message.tags %}exclamation-circle{% elif 'success' in message.tags %}check-circle{% else %}info-circle{% endif %}"></i>
                        <span>{{ message }}</span>
                    </div>
                {% endfor %}
            </div>
            {% endif %}

            <form method="post" enctype="multipart/form-data" style="width: 100%; text-align: left;">
                {% csrf_token %}

                <!-- Account Credentials Section -->
                <div style="background: white; padding: 25px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                    <h3 style="color: #2c3e95; margin-bottom: 18px; font-size: 1.1rem; font-weight: 600; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-key" style="font-size: 0.9rem;"></i> Account Credentials
                    </h3>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                        <div>
                            <label style="font-size: 0.85rem; color: #374151; margin-bottom: 6px; display: block; font-weight: 500;">Email Address *</label>
                            <input type="email" name="email" placeholder="you@example.com" required style="width: 100%; padding: 12px 14px; border-radius: 8px; border: 1.5px solid #e5e7eb; font-size: 0.95rem; transition: all 0.2s;">
                        </div>
                        <div>
                            <label style="font-size: 0.85rem; color: #374151; margin-bottom: 6px; display: block; font-weight: 500;">Password *</label>
                            <input type="password" name="password" placeholder="••••••••" required style="width: 100%; padding: 12px 14px; border-radius: 8px; border: 1.5px solid #e5e7eb; font-size: 0.95rem; transition: all 0.2s;">
                        </div>
                    </div>

                    <div>
                        <label style="font-size: 0.85rem; color: #374151; margin-bottom: 6px; display: block; font-weight: 500;">Confirm Password *</label>
                        <input type="password" name="confirm_password" placeholder="••••••••" required style="width: 100%; padding: 12px 14px; border-radius: 8px; border: 1.5px solid #e5e7eb; font-size: 0.95rem; transition: all 0.2s;">
                    </div>
                </div>

                <!-- Personal Information Section -->
                <div style="background: white; padding: 25px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                    <h3 style="color: #2c3e95; margin-bottom: 18px; font-size: 1.1rem; font-weight: 600; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-user" style="font-size: 0.9rem;"></i> Personal Information
                    </h3>

                    <div style="display: grid; grid-template-columns: 1fr 1fr 0.6fr; gap: 15px; margin-bottom: 15px;">
                        <div>
                            <label style="font-size: 0.85rem; color: #374151; margin-bottom: 6px; display: block; font-weight: 500;">First Name *</label>
                            <input type="text" name="first_name" placeholder="Juan" required style="width: 100%; padding: 12px 14px; border-radius: 8px; border: 1.5px solid #e5e7eb; font-size: 0.95rem; transition: all 0.2s;">
                        </div>

                        <div>
                            <label style="font-size: 0.85rem; color: #374151; margin-bottom: 6px; display: block; font-weight: 500;">Last Name *</label>
                            <input type="text" name="last_name" placeholder="Dela Cruz" required style="width: 100%; padding: 12px 14px; border-radius: 8px; border: 1.5px solid #e5e7eb; font-size: 0.95rem; transition: all 0.2s;">
                        </div>

                        <div>
                            <label style="font-size: 0.85rem; color: #374151; margin-bottom: 6px; display: block; font-weight: 500;">M.I.</label>
                            <input type="text" name="middle_name" placeholder="M" maxlength="3" style="width: 100%; padding: 12px 14px; border-radius: 8px; border: 1.5px solid #e5e7eb; font-size: 0.95rem; transition: all 0.2s;">
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div>
                            <label style="font-size: 0.85rem; color: #374151; margin-bottom: 6px; display: block; font-weight: 500;">Date of Birth *</label>
                            <input type="date" name="date_of_birth" required style="width: 100%; padding: 12px 14px; border-radius: 8px; border: 1.5px solid #e5e7eb; font-size: 0.95rem; transition: all 0.2s;">
                        </div>

                        <div>
                            <label style="font-size: 0.85rem; color: #374151; margin-bottom: 6px; display: block; font-weight: 500;">Gender *</label>
                            <select name="sex" required style="width: 100%; padding: 12px 14px; border-radius: 8px; border: 1.5px solid #e5e7eb; font-size: 0.95rem; transition: all 0.2s; background-color: white;">
                                <option value="">Select Gender</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Address Information Section -->
                <div style="background: white; padding: 25px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                    <h3 style="color: #2c3e95; margin-bottom: 18px; font-size: 1.1rem; font-weight: 600; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-map-marker-alt" style="font-size: 0.9rem;"></i> Address Information
                    </h3>

                    <div style="display: grid; grid-template-columns: 0.6fr 1.4fr; gap: 15px; margin-bottom: 15px;">
                        <div>
                            <label style="font-size: 0.85rem; color: #374151; margin-bottom: 6px; display: block; font-weight: 500;">House No./Lot *</label>
                            <input type="text" name="house_number" placeholder="123" required style="width: 100%; padding: 12px 14px; border-radius: 8px; border: 1.5px solid #e5e7eb; font-size: 0.95rem; transition: all 0.2s;">
                        </div>

                        <div>
                            <label style="font-size: 0.85rem; color: #374151; margin-bottom: 6px; display: block; font-weight: 500;">Street *</label>
                            <input type="text" name="street" placeholder="Rizal Street" required style="width: 100%; padding: 12px 14px; border-radius: 8px; border: 1.5px solid #e5e7eb; font-size: 0.95rem; transition: all 0.2s;">
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                        <div>
                            <label style="font-size: 0.85rem; color: #374151; margin-bottom: 6px; display: block; font-weight: 500;">Barangay *</label>
                            <input type="text" name="barangay" placeholder="Poblacion" required style="width: 100%; padding: 12px 14px; border-radius: 8px; border: 1.5px solid #e5e7eb; font-size: 0.95rem; transition: all 0.2s;">
                        </div>

                        <div>
                            <label style="font-size: 0.85rem; color: #374151; margin-bottom: 6px; display: block; font-weight: 500;">Municipality / City *</label>
                            <input type="text" name="municipality" placeholder="Taguig City" required style="width: 100%; padding: 12px 14px; border-radius: 8px; border: 1.5px solid #e5e7eb; font-size: 0.95rem; transition: all 0.2s;">
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1.4fr 0.6fr; gap: 15px;">
                        <div>
                            <label style="font-size: 0.85rem; color: #374151; margin-bottom: 6px; display: block; font-weight: 500;">Province *</label>
                            <input type="text" name="province" placeholder="Metro Manila" required style="width: 100%; padding: 12px 14px; border-radius: 8px; border: 1.5px solid #e5e7eb; font-size: 0.95rem; transition: all 0.2s;">
                        </div>

                        <div>
                            <label style="font-size: 0.85rem; color: #374151; margin-bottom: 6px; display: block; font-weight: 500;">ZIP Code *</label>
                            <input type="number" name="zip_code" placeholder="1630" required style="width: 100%; padding: 12px 14px; border-radius: 8px; border: 1.5px solid #e5e7eb; font-size: 0.95rem; transition: all 0.2s;">
                        </div>
                    </div>
                </div>

                <!-- ID Documents Section -->
                <div style="background: white; padding: 25px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                    <h3 style="color: #2c3e95; margin-bottom: 18px; font-size: 1.1rem; font-weight: 600; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-id-card" style="font-size: 0.9rem;"></i> ID Documents <span style="font-size: 0.8rem; color: #6b7280; font-weight: 400;">(Optional)</span>
                    </h3>

                    <div style="margin-bottom: 15px;">
                        <label style="font-size: 0.85rem; color: #374151; margin-bottom: 8px; display: block; font-weight: 500;">
                            <i class="fas fa-users" style="color: #6b7280; margin-right: 6px;"></i>Senior Citizen ID
                        </label>
                        <input type="file" name="senior_id" accept=".jpg,.jpeg,.png,.pdf" style="width: 100%; padding: 10px; border-radius: 8px; border: 1.5px dashed #d1d5db; font-size: 0.9rem; background: #fafafa; transition: all 0.2s;">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="font-size: 0.85rem; color: #374151; margin-bottom: 8px; display: block; font-weight: 500;">
                            <i class="fas fa-wheelchair" style="color: #6b7280; margin-right: 6px;"></i>PWD ID
                        </label>
                        <input type="file" name="pwd_id" accept=".jpg,.jpeg,.png,.pdf" style="width: 100%; padding: 10px; border-radius: 8px; border: 1.5px dashed #d1d5db; font-size: 0.9rem; background: #fafafa; transition: all 0.2s;">
                    </div>

                    <div>
                        <label style="font-size: 0.85rem; color: #374151; margin-bottom: 8px; display: block; font-weight: 500;">
                            <i class="fas fa-home" style="color: #6b7280; margin-right: 6px;"></i>Barangay ID
                        </label>
                        <input type="file" name="barangay_id" accept=".jpg,.jpeg,.png,.pdf" style="width: 100%; padding: 10px; border-radius: 8px; border: 1.5px dashed #d1d5db; font-size: 0.9rem; background: #fafafa; transition: all 0.2s;">
                    </div>
                </div>

                <button type="submit" class="btn-primary" style="background: linear-gradient(135deg, #2c3e95 0%, #3b4fc7 100%); color: #fff; padding: 16px 0; width: 100%; border-radius: 10px; border: none; font-size: 1.05rem; font-weight: 600; cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 12px rgba(44, 62, 149, 0.3); display: flex; align-items: center; justify-content: center; gap: 10px;">
                    <i class="fas fa-check-circle"></i> Create Account
                </button>
            </form>
        </div>
    </div>

    <!-- Right: Member Access Panel -->
    <div style="flex: 0.32; background: linear-gradient(135deg, #2c3e95 0%, #3b4fc7 100%); color: #FFFFFF; padding: 50px 30px; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; position: relative; overflow: hidden;">
        <!-- Decorative circles -->
        <div style="position: absolute; width: 200px; height: 200px; background: rgba(255,255,255,0.08); border-radius: 50%; top: -50px; right: -50px;"></div>
        <div style="position: absolute; width: 150px; height: 150px; background: rgba(255,255,255,0.06); border-radius: 50%; bottom: -30px; left: -30px;"></div>

        <div style="position: relative; z-index: 1;">
            <div style="width: 80px; height: 80px; background: rgba(255,255,255,0.15); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 25px;">
                <i class="fas fa-user-circle" style="font-size: 2.5rem; color: #fff;"></i>
            </div>

            <h2 style="color: #FFFFFF; margin-bottom: 12px; font-size: 1.8rem; font-weight: 700;">Welcome Back!</h2>
            <p style="color: rgba(255,255,255,0.85); margin-bottom: 35px; font-size: 0.95rem; line-height: 1.6;">Already have an account?<br>Sign in to continue</p>

            <a href="{% url 'login' %}" class="btn-secondary" style="background-color: #ffffff; color: #2c3e95; padding: 14px 32px; border-radius: 10px; text-decoration: none; transition: all 0.3s; display: inline-flex; align-items: center; gap: 10px; font-weight: 600; font-size: 0.95rem; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
                <i class="fas fa-sign-in-alt"></i> Sign In
            </a>

        </div>
    </div>
</div>

<style>
    .btn-primary:hover {
        background: linear-gradient(135deg, #3b4fc7 0%, #2c3e95 100%);
        box-shadow: 0 6px 20px rgba(44, 62, 149, 0.4);
        transform: translateY(-2px);
    }

    .btn-secondary:hover {
        background-color: rgba(255,255,255,0.95);
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0,0,0,0.2);
    }

    input:focus, select:focus {
        outline: none;
        border-color: #2c3e95;
        box-shadow: 0 0 0 3px rgba(44, 62, 149, 0.1);
    }

    input[type="file"]:hover {
        border-color: #2c3e95;
        background: #f0f4ff;
    }

    /* Custom scrollbar */
    div[style*="flex: 0.68"]::-webkit-scrollbar {
        width: 10px;
    }
    div[style*="flex: 0.68"]::-webkit-scrollbar-track {
        background: #f1f5f9;
        border-radius: 10px;
    }
    div[style*="flex: 0.68"]::-webkit-scrollbar-thumb {
        background: linear-gradient(135deg, #2c3e95 0%, #3b4fc7 100%);
        border-radius: 10px;
    }
    div[style*="flex: 0.68"]::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(135deg, #3b4fc7 0%, #2c3e95 100%);
    }

    /* Smooth animations */
    input, select, button, a {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
</style>
{% endblock %}